#Iniial set-up ---------------
library(ordinal)
library(tidyverse)
library(rstan)
library(bridgesampling)
library(shinystan)
rstan_options(auto_write = TRUE)
options(mc.cores = parallel::detectCores())
set.seed(123)
#--Set APA theme to use with ggplot
theme_set(theme_bw(18)+
theme(panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),
panel.border=element_blank(),
strip.background=element_blank(),
strip.text = element_text(face="bold"),
axis.line=element_line(),
text=element_text(family="serif")))
#Read in data
full_data <- read_csv("C:/Users/sarah/Desktop/psylab/clean_df.csv")
#Create readable labels for plotting.
#full_data <- mutate(full_data, condition = ifelse(ingroupNorm==1 & bothShown==0, "Ingroup norm favoured \n leaving robber alone \n Only ingroup norm shown",
#ifelse(ingroupNorm==0 & bothShown==0, "Ingroup norm favoured \n calling the police \n Only ingroup norm shown",
#ifelse(ingroupNorm==1 & bothShown==1, "Ingroup norm favoured \n leaving robber alone \n Both norms shown",
# "Ingroup norm favoured \n calling the police \n Both norms shown"))))
full_data$responseLabels <- ordered(full_data$response, labels = c("1 = Definitely call the police", "2", "3", "4", "5", "6 = Definitely leave the robber alone"))
#Frequentist Analysis----------------
ordinal <- clm(as.factor(response)~ingroupNorm*bothShown, data=full_data)
full_data <- mutate(full_data, ingroupNorm = ~ if(str_contains(full_data['condition'],"Approximately 85% of participants in a previous study who disagreed with you", ignore.case = FALSE, logic = NULL, switch = FALSE))
View(full_data)
full_data <- mutate(full_data, ingroupNorm = ifelse(str_contains(full_data['condition'],"Approximately 85% of participants in a previous study who disagreed with you", ignore.case = FALSE, logic = NULL, switch = FALSE)))
full_data <- mutate(full_data, ingroupNorm = ifelse(str_contains(full_data['condition'],"Approximately 85% of participants in a previous study who disagreed with you")))
library(sjmisc)
#analysis_outgroup_plan
install.packages(sjmisc)
#analysis_outgroup_plan
install.packages("sjmisc")
#Iniial set-up ---------------
library(sjmisc)
full_data <- mutate(full_data, ingroupNorm = ifelse(str_contains(full_data['condition'],"Approximately 85% of participants in a previous study who disagreed with you")))
full_data <- mutate(full_data, ingroupNorm = ifelse(str_contains(full_data['condition'],"Approximately 85% of participants in a previous study who disagreed with you"), FALSE, TRUE))
View(full_data)
full_data <- mutate(full_data, ingroupNorm = ifelse(str_contains(full_data['condition'],"Approximately 85% of participants in a previous study who disagreed with you"), "0", "1"))
View(full_data)
